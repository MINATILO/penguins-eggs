#!/bin/bash

################################################
# pre-remove script
################################################

# pulizia dei link non rimovibili da apt
rm /usr/lib/penguins-eggs/conf/distros -rf

# Rimuoviamo il manuale di eggs
if [ -f "/usr/share/man/man1/eggs.1.gz" ]; then
    rm /usr/share/man/man1/eggs.1.gz
fi

# Rimuoviamo eggs.bash per l'autocomplete
if [ -f "/etc/bash_completion.d/eggs.bash" ]; then
    rm /etc/bash_completion.d/eggs.bash
fi

    FILE=/var/lib/dpkg/info/calamares.list
    #if [ -f "$FILE" ]; then
        rm -rf /etc/calamares

        rm -rf /usr/lib/x86_64-linux-gnu/calamares/modules/bootloader-config  
        rm -f /usr/sbin/bootloader-config.sh

        rm -rf /usr/lib/x86_64-linux-gnu/calamares/modules/remove-link  
        rm -f /usr/sbin/remove-link.sh

        rm -rf /usr/lib/x86_64-linux-gnu/calamares/modules/sources-yolk  
        rm -f /usr/sbin/sources-yolk.sh

        rm -rf /usr/lib/x86_64-linux-gnu/calamares/modules/sources-yolk-unmount
        #  usa /usr/sbin/sources-yolk.sh
    #fi

exit 0